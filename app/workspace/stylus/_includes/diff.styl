@require './vars'
@require './badge'

.d2h-wrapper
  text-align: left
  color: lighten($medium, 50%)

.d2h-file-header
  // padding: 5px 10px

.d2h-file-stats
  display: flex
  margin-left: auto
  font-size: $font-size


.d2h-lines-added
  text-align: right
  border-radius: 5px 0 0 5px
  color: rgba($green, .5)
  padding: 2px
  vertical-align: middle


.d2h-lines-deleted
  text-align: left
  border-radius: 0 5px 5px 0
  color: $red
  padding: 2px
  vertical-align: middle
  margin-left: 1px


.d2h-file-name-wrapper
  display: flex
  align-items: center
  width: 100%
  font-family: $font-family


.d2h-file-name
  white-space: nowrap
  text-overflow: ellipsis
  overflow-x: hidden
  line-height: 21px


.d2h-file-wrapper
  border-radius: 3px
  margin-bottom: 1em


.d2h-diff-table
  width: 100%
  border-collapse: collapse
  font-family: $font-family
  font-size: $font-size


.d2h-diff-tbody > tr > td
  height: 20px
  line-height: 20px


.d2h-files-diff
  display: block
  width: 100%
  height: 100%


.d2h-file-diff
  overflow-x: scroll
  overflow-y: hidden


.d2h-file-side-diff
  display: inline-block
  overflow-x: scroll
  overflow-y: hidden
  width: 50%
  margin-right: -4px
  margin-bottom: -8px


.d2h-code-line
  display: inline-block
  white-space: nowrap
  padding: 0 10px
  margin-left: 80px


.d2h-code-side-line
  display: inline-block
  white-space: nowrap
  padding: 0 10px
  margin-left: 50px


.d2h-code-line del,
.d2h-code-side-line del
  display: inline-block
  margin-top: -1px
  text-decoration: none
  background-color: $red
  border-radius: 0.2em


.d2h-code-line ins,
.d2h-code-side-line ins
  display: inline-block
  margin-top: -1px
  text-decoration: none
  background-color: rgba($green, .5)
  border-radius: 0.2em
  text-align: left


.d2h-code-line-prefix
  display: inline
  background: none
  padding: 0
  word-wrap: normal
  white-space: pre


.d2h-code-line-ctn
  display: inline
  background: none
  padding: 0
  word-wrap: normal
  white-space: pre


.line-num1
  box-sizing: border-box
  float: left
  width: 40px
  overflow: hidden
  text-overflow: ellipsis
  padding-left: 3px


.line-num2
  box-sizing: border-box
  float: right
  width: 40px
  overflow: hidden
  text-overflow: ellipsis
  padding-left: 3px


.d2h-code-linenumber
  box-sizing: border-box
  position: absolute
  width: 86px
  padding-left: 0px
  padding-right: 5px
  background-color: darken($blue, 80%)
  color: $blue
  text-align: right
  cursor: pointer


.d2h-code-linenumber.d2h-ins
  .line-num1, .line-num2
    color: white

.d2h-code-linenumber.d2h-del
  .line-num1, .line-num2
    color: white


.d2h-code-side-linenumber
  box-sizing: border-box
  position: absolute
  width: 56px
  padding-left: 5px
  padding-right: 5px
  background-color: #fff
  color: rgba(0, 0, 0, 0.3)
  text-align: right
  border: none
  border-width: 0 1px 0 1px
  cursor: pointer
  overflow: hidden
  text-overflow: ellipsis


/*
 * Changes Highlight
 */

.d2h-del
  background-color: rgba($red, .3)
  color: white

.d2h-ins
  background-color: rgba($green, .3)
  color: white

.d2h-info
  background-color: #f8fafd
  color: rgba(0, 0, 0, 0.3)
  border-color: #d5e4f2


.d2h-file-diff .d2h-del.d2h-change
  background-color: $yellow


.d2h-file-diff .d2h-ins.d2h-change
  background-color: #ded




.d2h-icon-wrapper
  line-height: 31px


.d2h-icon
  vertical-align: middle
  margin-right: 10px
  fill: currentColor


.d2h-deleted
  color: $red


.d2h-added
  color: $green


.d2h-changed
  color: $yellow


.d2h-moved
  color: $yellow


.d2h-tag
  @extend .badge


.d2h-deleted-tag
  @extend .badge
  @extend .badge.danger


.d2h-added-tag
  @extend .badge
  @extend .badge.success


.d2h-changed-tag
  @extend .badge
  @extend .badge.warning


.d2h-moved-tag
  @extend .badge
  @extend .badge.warning


/*
 * Selection util.
 */

.selecting-left .d2h-code-line,
.selecting-left .d2h-code-line *,
.selecting-right td.d2h-code-linenumber,
.selecting-right td.d2h-code-linenumber *,
.selecting-left .d2h-code-side-line,
.selecting-left .d2h-code-side-line *,
.selecting-right td.d2h-code-side-linenumber,
.selecting-right td.d2h-code-side-linenumber *
  -webkit-touch-callout: none
  -webkit-user-select: none
  -moz-user-select: none
  -ms-user-select: none
  user-select: none


.selecting-left .d2h-code-line::-moz-selection,
.selecting-left .d2h-code-line *::-moz-selection,
.selecting-right td.d2h-code-linenumber::-moz-selection,
.selecting-left .d2h-code-side-line::-moz-selection,
.selecting-left .d2h-code-side-line *::-moz-selection,
.selecting-right td.d2h-code-side-linenumber::-moz-selection,
.selecting-right td.d2h-code-side-linenumber *::-moz-selection
  background: transparent


.selecting-left .d2h-code-line::selection,
.selecting-left .d2h-code-line *::selection,
.selecting-right td.d2h-code-linenumber::selection,
.selecting-left .d2h-code-side-line::selection,
.selecting-left .d2h-code-side-line *::selection,
.selecting-right td.d2h-code-side-linenumber::selection,
.selecting-right td.d2h-code-side-linenumber *::selection
  background: transparent
